/* tslint:disable */
/* eslint-disable */
/**
 * Trade Nexus Platform API
 * Canonical public API contract for Trade Nexus.  Rules: - This file is the source of truth for external consumers. - Lona and execution engines are internal provider integrations behind adapters. 
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  ConversationSessionResponse,
  ConversationTurnResponse,
  CreateConversationSessionRequest,
  CreateConversationTurnRequest,
  ErrorResponse,
} from '../models/index';
import {
    ConversationSessionResponseFromJSON,
    ConversationSessionResponseToJSON,
    ConversationTurnResponseFromJSON,
    ConversationTurnResponseToJSON,
    CreateConversationSessionRequestFromJSON,
    CreateConversationSessionRequestToJSON,
    CreateConversationTurnRequestFromJSON,
    CreateConversationTurnRequestToJSON,
    ErrorResponseFromJSON,
    ErrorResponseToJSON,
} from '../models/index';

export interface CreateConversationSessionV2Request {
    createConversationSessionRequest: CreateConversationSessionRequest;
    xRequestId?: string;
}

export interface CreateConversationTurnV2Request {
    sessionId: string;
    createConversationTurnRequest: CreateConversationTurnRequest;
    xRequestId?: string;
}

export interface GetConversationSessionV2Request {
    sessionId: string;
    xRequestId?: string;
}

/**
 * ConversationsApi - interface
 * 
 * @export
 * @interface ConversationsApiInterface
 */
export interface ConversationsApiInterface {
    /**
     * 
     * @summary Create conversation session across CLI, Web, and OpenClaw lanes
     * @param {CreateConversationSessionRequest} createConversationSessionRequest 
     * @param {string} [xRequestId] Caller-provided request id for trace correlation.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof ConversationsApiInterface
     */
    createConversationSessionV2Raw(requestParameters: CreateConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ConversationSessionResponse>>;

    /**
     * Create conversation session across CLI, Web, and OpenClaw lanes
     */
    createConversationSessionV2(requestParameters: CreateConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ConversationSessionResponse>;

    /**
     * 
     * @summary Append conversation turn to a session
     * @param {string} sessionId 
     * @param {CreateConversationTurnRequest} createConversationTurnRequest 
     * @param {string} [xRequestId] Caller-provided request id for trace correlation.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof ConversationsApiInterface
     */
    createConversationTurnV2Raw(requestParameters: CreateConversationTurnV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ConversationTurnResponse>>;

    /**
     * Append conversation turn to a session
     */
    createConversationTurnV2(requestParameters: CreateConversationTurnV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ConversationTurnResponse>;

    /**
     * 
     * @summary Get conversation session metadata
     * @param {string} sessionId 
     * @param {string} [xRequestId] Caller-provided request id for trace correlation.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof ConversationsApiInterface
     */
    getConversationSessionV2Raw(requestParameters: GetConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ConversationSessionResponse>>;

    /**
     * Get conversation session metadata
     */
    getConversationSessionV2(requestParameters: GetConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ConversationSessionResponse>;

}

/**
 * 
 */
export class ConversationsApi extends runtime.BaseAPI implements ConversationsApiInterface {

    /**
     * Create conversation session across CLI, Web, and OpenClaw lanes
     */
    async createConversationSessionV2Raw(requestParameters: CreateConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ConversationSessionResponse>> {
        if (requestParameters['createConversationSessionRequest'] == null) {
            throw new runtime.RequiredError(
                'createConversationSessionRequest',
                'Required parameter "createConversationSessionRequest" was null or undefined when calling createConversationSessionV2().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (requestParameters['xRequestId'] != null) {
            headerParameters['X-Request-Id'] = String(requestParameters['xRequestId']);
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-API-Key"] = await this.configuration.apiKey("X-API-Key"); // apiKeyAuth authentication
        }

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v2/conversations/sessions`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreateConversationSessionRequestToJSON(requestParameters['createConversationSessionRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ConversationSessionResponseFromJSON(jsonValue));
    }

    /**
     * Create conversation session across CLI, Web, and OpenClaw lanes
     */
    async createConversationSessionV2(requestParameters: CreateConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ConversationSessionResponse> {
        const response = await this.createConversationSessionV2Raw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Append conversation turn to a session
     */
    async createConversationTurnV2Raw(requestParameters: CreateConversationTurnV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ConversationTurnResponse>> {
        if (requestParameters['sessionId'] == null) {
            throw new runtime.RequiredError(
                'sessionId',
                'Required parameter "sessionId" was null or undefined when calling createConversationTurnV2().'
            );
        }

        if (requestParameters['createConversationTurnRequest'] == null) {
            throw new runtime.RequiredError(
                'createConversationTurnRequest',
                'Required parameter "createConversationTurnRequest" was null or undefined when calling createConversationTurnV2().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (requestParameters['xRequestId'] != null) {
            headerParameters['X-Request-Id'] = String(requestParameters['xRequestId']);
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-API-Key"] = await this.configuration.apiKey("X-API-Key"); // apiKeyAuth authentication
        }

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v2/conversations/sessions/{sessionId}/turns`;
        urlPath = urlPath.replace(`{${"sessionId"}}`, encodeURIComponent(String(requestParameters['sessionId'])));

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreateConversationTurnRequestToJSON(requestParameters['createConversationTurnRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ConversationTurnResponseFromJSON(jsonValue));
    }

    /**
     * Append conversation turn to a session
     */
    async createConversationTurnV2(requestParameters: CreateConversationTurnV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ConversationTurnResponse> {
        const response = await this.createConversationTurnV2Raw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Get conversation session metadata
     */
    async getConversationSessionV2Raw(requestParameters: GetConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ConversationSessionResponse>> {
        if (requestParameters['sessionId'] == null) {
            throw new runtime.RequiredError(
                'sessionId',
                'Required parameter "sessionId" was null or undefined when calling getConversationSessionV2().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (requestParameters['xRequestId'] != null) {
            headerParameters['X-Request-Id'] = String(requestParameters['xRequestId']);
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-API-Key"] = await this.configuration.apiKey("X-API-Key"); // apiKeyAuth authentication
        }

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v2/conversations/sessions/{sessionId}`;
        urlPath = urlPath.replace(`{${"sessionId"}}`, encodeURIComponent(String(requestParameters['sessionId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ConversationSessionResponseFromJSON(jsonValue));
    }

    /**
     * Get conversation session metadata
     */
    async getConversationSessionV2(requestParameters: GetConversationSessionV2Request, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ConversationSessionResponse> {
        const response = await this.getConversationSessionV2Raw(requestParameters, initOverrides);
        return await response.value();
    }

}
